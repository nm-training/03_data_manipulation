---
title: "Data Manipulation"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
```


## Load library and data

```{r}
library(readr)
library(dplyr)

gapminder <- read_csv("./data/gapminder.csv")

head(gapminder, 4)
```


> Note: Use Ctrl + Shift + M to get %>% (for Mac: Cmd + Shift + M)


## Select 

- Variables: year, country, gdpPercap

```{r}
country_gdp <- gapminder %>% 
  select( ) 


head(country_gdp)
```

## Filter

- Pick Asia from continent variable.

```{r}
asia <- gapminder %>% 
  filter(continent == "")


asia
```

## Chaining Functions

- Yearly GDP per Capita of Nepal

```{r}
gapminder %>% 
  filter(country == "Nepal") %>% 
  select(year, country, gdpPercap)
```


## Your Turn - 01

- Display country-wise, annual life expectancy of Europe.

> Use Ctrl+Shift+m to get pipe %>% 

```{r}
gapminder %>% 
  


```


## Mutate

- Let's calculate gdp using variable gdpPercap and pop.

```{r}
gapminder 
```


## Your Turn - 02

- Rank all Asian countries by life expectancy in year 2007.

```{r}
asia_lifeExp <- gapminder






```


## Arrange

- Let's find the population in 2007 in order.


```{r}
# ascending

gapminder_asc <- gapminder 



```


```{r}
# descending


gapminder_desc <- gapminder 



```

## Your Turn - 03

- Find countries in Asia with lowly ranked gdpPercap in 1992


```{r}
asia_gdpPercap_1992 <- gapminder 






```

## Group By 

- Let's group variable by continent where year is 2007.


```{r}
gapminder_group_by <- gapminder 


```


## Summarize 

- Summarize mean life expectancy by continent

```{r}
gapminder_sum <- gapminder_group_by 



```

## Your Turn - 04

- Summarize mean (population and gdpPerCap) by continent in year 2007

```{r}
gapminder_pg <- gapminder_group_by 
```


## Rename

```{r}
country_gdp %>% 
  

```

## if_else

```{r}
country_life_exp <- gapminder %>%
  filter(year == 2007) %>%
  mutate(
     life_exp_status =
       if_else(lifeExp > 60, "", "") #<<
  ) %>%
  head()


country_life_exp
```

## case_when

```{r}

country_income <- gapminder %>%
  filter(year == 2007) %>%
  mutate(
  gdpPercap < 1000 ~ "Low Income",                          #<<
  between(gdpPercap, 1000, ) ~ "Lower-Middle Income",   #<<
  between(gdpPercap, 5000, 20000) ~ "Upper-Middle Income",  #<<
  # gdpPercap > 500 & gdpPercap < 2000 ~ "Upper-Middle Income",
  gdpPercap > 20000 ~ " "           
  ) %>%
  head()

country_income 
```

## Bind Datasets

```{r}
one <- data.frame(num = 1:2, name = c("apple", "ball"))

two <- data.frame(num = 3:4, name = c("dog", "elephant"))

three <- data.frame(species = c("plant", "non-living", "animal", "animal"))
```


## Bind Rows - I

```{r}
four


```


## Bind Cols - II

```{r}


```

## Bind Rows - II

```{r}

```


## Binod Cols - II

```{r}

```

## Joins


```{r}
# data

dx <- data.frame(id = 1:2,                      
                fruits = c("apple", "banana")
                )
dy <- data.frame(id = 2:3,                     
                animals = c("cat", "dog")
                )
```


> Note: Use Ctrl + Alt + I to make R chunk 



### Inner Join

### Left Join

### Right Join

### Full Join


### Semi Join

### Anti Join


